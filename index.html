<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.js"></script>
    <script>
      let docEl = document.documentElement,
          resizeEvt = 'onorientationchange' in window ? 'onorientationchange' : 'resize',
          recalculateTimeoutID;
      function recalculate() {
          let clientWidth = docEl.clientWidth;
          if (!clientWidth) return;
          if (clientWidth >= 720) {
              docEl.style.fontSize = '100px';
          } else {
              // docEl.style.fontSize = 100 * (clientWidth / 750) + 'px';
              docEl.style.fontSize = '85px';
          }
      }
      recalculate()

      function bindRecalculate() { 
          if (recalculateTimeoutID) clearTimeout(recalculateTimeoutID)
          recalculateTimeoutID = setTimeout(function () {
              recalculate()
              recalculateTimeoutID = null
          }, 100)
      }

      window.addEventListener(resizeEvt, bindRecalculate, false);
      document.addEventListener('DOMContentLoaded', bindRecalculate, false);
    </script>
  </body>
</html>
